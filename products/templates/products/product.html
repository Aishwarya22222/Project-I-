{% extends 'layout.html' %}
{% load static %}

{% block title %}
<title> Products</title>
{% endblock %}


 {% block main-content %}
 <div class="container">
   <div class="row d-flex justify-content-center">
      <div class="col-md-10">

         {% for msg in messages %}

            {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-success">
                {{msg}}

            </div>
            {% endif %}

            {% if msg.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-danger">
                {{msg}}

            </div>

            {% endif %}

            {% endfor %}
         <table class="table table-bordered table-stripped">
            <tr>
               <th>Product Name</th>
               <th>Product Price</th>
               <th>Stock Quantity</th>
               <th>Product Description</th>
               <th>Product Image</th>
               <th>Category</th>
               <th>Action</th>
            </tr>
            {% for product in products %}
            <tr>
               <td>{{product.product_name}}</td>
               <td>{{product.product_price}}</td>
               <td>{{product.stock}}</td>
               <td>{{product.product_description}}</td>
               <td><img src="/{{product.product_image}}" alt="{{product.product_name}}" width="100"></td> 
               <td>{{product.Category}}</td>
               <td>
                     <a href = "/products/updateproduct/{{product.id}}" class="btn btn-primary">
                        <i class="fa-solid fa-pen-to-square fa-fade"></i></a>
                     &nbsp;  &nbsp;
                     <a href="/products/deleteproduct/{{product.id}}" class="btn btn-danger" onclick="return 
                     confirm('Are you sure you want to delete this product?')">
                     <i class="fa-solid fa-trash fa-fade"></i></a>
               </td>
               
            </tr>
            {% endfor %}
         </table>
      </div>
   </div>
 </div>

 
 {% endblock %}